.text
.equ HEX3_TO_0, 0xFF200020
.equ HEX5_TO_4, 0xFF200030

.equ SHOW_0, 0x3F
.equ SHOW_1, 0x06
.equ SHOW_2, 0x5B
.equ SHOW_3, 0x4F
.equ SHOW_4, 0x66
.equ SHOW_5, 0x6D
.equ SHOW_6, 0x7D
.equ SHOW_7, 0x07
.equ SHOW_8, 0x7F
.equ SHOW_9, 0x67
.equ SHOW_A, 0x77
.equ SHOW_B, 0x7C
.equ SHOW_C, 0x39
.equ SHOW_D, 0x5E
.equ SHOW_E, 0x79
.equ SHOW_F, 0x71
.equ SHOW_EMPTY, 0x00
.equ SHOW_FULL, 0x7F

.global HEX_clear_ASM
.global HEX_flood_ASM
.global HEX_write_ASM


HEX_clear_ASM: 
	LDR R1, =HEX3_TO_0 	//Loads pointer to location of HEX3-0
	MOV R2, #0        	//
	LDR R3, =HEX5_TO_4	//loads pointer to location of HEX4-5
	MOV R4, #0
	TST R0, #8		//Performs bitwise AND with 8 and value in R0

	ADDEQ R2, R2, #SHOW_FULL //
	LSL R2, R2, #8
	TST R0, #4
	ADDEQ R2, R2, #SHOW_FULL
	LSL R2, R2, #8
	TST R0, #2
	ADDEQ R2, R2, #SHOW_FULL
	LSL R2, R2, #8
    TST R0, #1
	ADDEQ R2, R2, #SHOW_FULL
	STR R2, [R1]

    TST R0, #32
	ADDEQ R4, #SHOW_FULL
	LSL R4, R4, #8
 	TST R0, #16
	ADDEQ R4, #SHOW_FULL
	STR R4, [R3]
	BX LR
HEX_flood_ASM:	
	LDR R1, =HEX3_TO_0
	LDR R2, [R1]
	LDR R6, =HEX5_TO_4
	LDR R7, [R6]
	MOV R4, #SHOW_FULL

	
	TST R0, #8
	BICNE R3, R3, #0b01111111000000000000000000000000
	MOVNE R5, R4
	LSL R5, #24
	ORRNE R2, R2, R5

	TST R0, #4
	BICNE R3, R3, #0b00000000011111110000000000000000
	MOVNE R5, R4
	LSL R5, #16
	ORRNE R2, R2, R5

	TST R0, #2
	BICNE R3, R3, #0b00000000000000000111111100000000
	MOVNE R5, R4
	LSL R5, #8
	ORRNE R2, R2, R5


    TST R0, #1
	BICNE R3, R3, #0b00000000000000000000000001111111
	MOVNE R5, R4
	LSL R5, #0
	ORRNE R2, R2, R5

	TST R0, #32
	BICNE R3, R3, #0b00000000000000001111111000000000
	MOVNE R5, R4
	LSL R5, #8
	ORRNE R7, R7, R5

    TST R0, #16
	BICNE R3, R3, #0b00000000000000000000000001111111
	MOVNE R5, R4
	LSL R5, #0
	ORRNE R7, R7, R5

	STR R2, [R1]
	STR R7, [R6]

	BX LR
HEX_write_ASM:
	LDR R2, =HEX3_TO_0 // address to hex3 to hex0
	LDR R3, [R2]
	
	CMP R1, #0b0000
	MOVEQ R4, #SHOW_0
	CMP R1, #0b0001
	MOVEQ R4, #SHOW_1
	CMP R1, #0b0010
	MOVEQ R4, #SHOW_2
	CMP R1, #0b0011
	MOVEQ R4, #SHOW_3
	CMP R1, #0b0100
	MOVEQ R4, #SHOW_4
	CMP R1, #0b0101
	MOVEQ R4, #SHOW_5
	CMP R1, #0b0110
	MOVEQ R4, #SHOW_6
	CMP R1, #0b0111
	MOVEQ R4, #SHOW_7
	CMP R1, #0b1000
	MOVEQ R4, #SHOW_8
	CMP R1, #0b1001
	MOVEQ R4, #SHOW_9
	CMP R1, #0b1010
	MOVEQ R4, #SHOW_A
	CMP R1, #0b1011
	MOVEQ R4, #SHOW_B
	CMP R1, #0b1100
	MOVEQ R4, #SHOW_C
	CMP R1, #0b1101
	MOVEQ R4, #SHOW_D
	CMP R1, #0b1110
	MOVEQ R4, #SHOW_E
	CMP R1, #0b1111
	MOVEQ R4, #SHOW_F


	TST R0, #8
	BICNE R3, R3,#0b01111111000000000000000000000000
	MOVNE R5, R4
	LSL R5, #24
	ORRNE R3, R3, R5


	TST R0, #4
	BICNE R3, R3, #0b00000000011111110000000000000000
	MOVNE R5, R4
	LSL R5, #16
	ORRNE R3, R3, R5



	TST R0, #2
	BICNE R3, R3, #0b00000000000000000111111100000000
	MOVNE R5, R4
	LSL R5, #8
	ORRNE R3, R3, R5


    TST R0, #1
	BICNE R3, R3, #0b00000000000000000000000001111111
	MOVNE R5, R4
	LSL R5, #0
	ORRNE R3, R3, R5
	STR R3, [R2]

	BX LR
	
	
	
				

.end